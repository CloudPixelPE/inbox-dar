sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  firefox: latest
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
after_success:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$DEPLOYSECRET"
  -in deploy.enc -out deploy_key -d; fi
- cd $TRAVIS_BUILD_DIR/scripts
- chmod 755 ghp.sh
- "./ghp.sh"
env:
  global:
  - secure: Lqho2jdWYfRVeYswzah9jQCkm/gUoDEx1UTYPJmdobtH3GKdFcWm9Y1Yn5/1zTSWrSFFpxqEC94JYbZV1nRIdojIWFOdKbgc3HJgPa3lfKoyCFcxZ1cu/vPtn95s26tmImpoxTVjSFf94U5tkcXaceAJq/78Ou8pEDSoF0WslBFKq12+ysvvknDwlGS3vKp1FLS/ISGiNB3OoLrGgHdn/szdX+Z5Qww7FDiZ9n8xiPoYU1mn+igaR168BIifGcb1TzFGkunng32LKhp+kVv6a0GrWt6O5S/gFQO9Wt2nL9ItZlS3eP1GPfqVmS8mbhaXkByGzcuOpiq/u+nL96Cgv9/9PMIr2lDYY2g6lEpO382stqacF8G00OJgV1ZipLXgmQg7C3UjZ9vxvNvcYapdNOuqIa+tbVgyciEA7JlPYnc1gYDnJPWs0oL3L+kNakYjQjzsl9Ntg+lag+1lU0Bm4jHPg1csXXi1rEZqAN4DdOpEfKvOUEm2EFyseqXxVlVA3tBu6MQza09bBB/GHLXw4mJ3014Mftt0hvvbB0H2bza29LLryTQ5dS8GiaLWv07RCFr+uJlvhi9oGvRrpNbNpQ5U4qDpb8sve3JTOYznS6oyMcAATSehXM8lc3r6DAXwyhimilUg2VliwIed4znodLoSFrcTt0H/zSo/hjVSYpY=
  - secure: KzKQePdnrAPdG4xBLTwclwdBulVMGlA+/L8zXOfY0zpQAc8ORZ7n8sUKbV+bRqIQS3Cn8f4vTrpaaQ1RYfrdJ5tE6RcacsTFwP7RW2eHLEhO+tEL9v7CfJBwlXa/+2sZC5XpcOnchgX5SC3A3O709mb89XYxNRghUDibuwmr4oGKtE92PF8rIfQ+35OO/bcIN739S34I5ggJh/oUAVpC8KWufPPITWUnMfGxwbsKBuHcdE9QRs6kPAAVFpWPnm9rFHE51kA0ROty1Xyecfh2w8eH07Bi2zCwnVrRZEegl6G6ORVDZsv523AJPe5Q8Lvuvrpm0di4vfnv8ImlWU7aFb5UK+65vJfnIRNztzVkYO4IobX2TSeUseI3MTv43j6kn+ujvfHAyB38HZvtCmAW0JjLWP8shb/1fvHSa4gTjKnChQUQiUB8WVr4mUUdhuzB1nVk8jn3buVOv+1rVPpJDZmD0Iw1MkaUoeKaWXjLXPIx2E8k9a/CSwMVQ981DX93OpkjrLtaqgQfwEpHRpsXeBNSgpVqcbOJO4mThRvNdYbbESmeEFT+iTR7ddarwbwuJmbYs3QtZk3j2PHldfyTcqNRBT6NaaJZebVas7mtxF6AWaruHarcKPWWWvuJqpakezLci+MbuAOPRhi3bxBwL8SQtNBaQQrNjWVB89raGFw=
