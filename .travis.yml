sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
env:
  global:
    secure: i0O/GpxjFz3Rnx74bGU+/VhI96v38jTc7/IPNK3JCv4GO+of69Y2VDjpgXh/5X0ZlBFG7t6jnGeLKwXNstm/dy7zbHjtlT2EGNWCPwIY8qgE/QG7O9XH/c4y96c68lMyGTfy3O9XLjMwdiRncQL8wbukOc08Qu5Bos0Y2AUlJNdaEHN73plOZOQdIJFC8BdrKw587e1xYcT1pMn5wTmASVzsXDO0oLB14lLJ16vNGQ754LC69tZcyzykIAtZdRfP8m6mCLxIfLTtrXee5bPKQAqu4DUK0QuTcP6a+v+iQgTbfbJmyzFieRUEQBLHSL49lYQWgXs178xlKeSZvMdUTZbCGW/FvZR20w46bID2jjCubzMdbYZYbrSuKQLivt7QcYflGuNbm1DzdId7PWv1Ps/S1A7uZnEJ+ivAyOrd+m3Cf6PYaj9rKN62IlSAP1ayAHYvkS01yCZ0AoFev3i7GxMeacz9VuPByeT+RQfnA7t5wI4cOAwTXj9x+F1SqmKENzmKwael6Jb+01NygDkF/vh/6RpMcfGyU6xxqWDzOt/CY9rYYO7+nUhkwUeGCv8qVSetRq7WIzNZuBdpXKFBRgm8xlktWl2AitKvjck40aMrxsQEe1gOMJYLFLRAtM8U3fX+Q+R9apRZrAj/RyTQ9ljMn2miaycqnRx0dx7VaJU=
before_install:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$password"
  -in id_rsa.enc -out deploy_key -d; fi
