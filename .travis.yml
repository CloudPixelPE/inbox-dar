sudo: required
dist: trusty
language: node_js
node_js:
- stable
branches:
  except:
  - gh-pages
addons:
  apt:
    sources:
    - google-chrome
    packages:
    - google-chrome-stable
before_script:
- npm install web-component-tester
- npm install bower
- export PATH=$PWD/node_modules/.bin:$PATH
- bower install
script:
- xvfb-run wct --skip-plugin sauce
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then wct --plugin sauce --skip-plugin
  local; fi
env:
  global:
  - secure: XbcQUmR9sTi1qeIkRMfLVSNI2ZFXAuWwsVYUf+nFqzB1vYCQ4rHX+8bnB9yY+yZAlRI7r7NBwCx4NqXAObfWNZjBbfjdAjsgLX9NDgvJExFhs20OZHKSa7/2enfAwBMGfRE8DDe06j+JmnsKsvWCh/RTUGCCGpy0gv43r22RfFqABCIlT7Xd6ZL/WibTdtS6nfxXyG48q4FVKpGZf+05mu2BlCxXz59oekk+IHeuhny2Zeyv2aTiAxArB/2K4wtQ8lCCyXhG9OAV2tRhFTn8kd+KG+Mzg2w9mipxXSJiqaEaUWmPmprhbk+YWO9LwEbTjC8MiiSt2uAc0nJppqZ7YYNT0qcafljWSw47+aBFf61VV8gT+OsLwa/B0Jsn3W+U4Q4c6NtcqZoylUuPFVCtY4LfFPcn2c4ThTWkXkhQVCRrxjN/MTWoUjx/Ktjj4E/S9OfInhzRlGWZPhoqEoxWEaP7YNWFsXlBIb2yA1Zbh7IV1Zij940wLH37/zT088JbADJDR21wfOkeTWayCuJof7OYI6GlovhSLi0h1iwGH5gvfW7MvFvNopd0ktyvdCFQJqCaE8VewZrH7H9lpx3XZBRvMdu9siYsxobPsq3MqXrImAxFv2TOKXRUePGMJGQY0fQ12hBUXsgwgiWSfn0NmjydVQpvl5bOn2KuhzAFtxo=
  - secure: mwR8K0LEbPK2czM6Fm5UMODahra5klI7tUTjmoTe24WsbD2RWAjjhSyKLhwTrz5LIAlYb7AZY3zBOpRhjMWzKcPljG4zHFrMpGXaEHIjH+GQydRNwNqcAl4lBDXICGrauyrt575TGoD0RAvxDDKqdch2uPVWscq0LOKJB9fc5Pmz3cBpE6hIig3ywRJDP/3PXBiRXmEkHxbRHiNXQ+25gliPI3RMKr0nmkZN4W8D/vctFpTOjB+INLwkMqpCosZ90GgQrm7zEIRCzWbC45L0zMLaeoO28hokMEEMKy53+od2B4u4wKLct6cT9zXrwwrsn9pOsRt/1b9aw3/xe1YkwXmptF0oyXOwhf41uZYj6+x72SGI+fCu9FybMEhWALSPUW5ujZlKUCCbgo8wrL89FPrQfVUmXAdrroS6EleiNlDX+fYvCwlFEdDWVcbj+EmN18oSY/g/xAlUGYgJRPFp67hs0JqdQirdKnvaM/np7mcVQbB4drhsSmaJQDCNl+eO1tUQIMI8rvvLyiMkqbGw1+yrtZeaTGMxlP8O2uk44Nq2bZ8WFjnPdsUTPf/9y+lHqpIUR+qqsvXT3jxYgS0HH05RLMDOwEOJs94J6fme6zqH0aq0aKFUxbmFTO8GzSiJYBvzDEcVqLHqDXjkx7byFvQFA0EQTNGK3Mu3Y8ocTHo=
before_install:
- if [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then openssl aes-256-cbc -k "$password"
  -in id_rsa.enc -out deploy_key -d; fi
